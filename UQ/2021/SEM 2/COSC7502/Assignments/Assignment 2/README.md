# README for COSC7502 Assignment 2 authored by Joel Thomas.
# Guide to compiling and running on UQ SMP's Getafix HPC cluster as well as overview of new important files found in this zip folder:
1) The "a2_serial.cpp", "a2_avx.cpp", "a2_openmp.cpp" and "a2_cuda.cu" files contain their respective Serial, OpenMP, AVX and CUDA implementations programmed in C++.
2) The initially provided Makefile has been slightly adjusted. In order to compile a specific implementation, for example, "make a2_serial" is used rather than "make Assignment2_serial". IMPORTANT - the only module load command that must be issued prior to running "make all" or "make a2_cuda" is to "module load cuda" to be able to successfully compile the CUDA implementation. Finally, "-mfma" has been added next to the AVX compile flags to enable FMA3 instructions to use the fused-multiply add intrinsic for the AVX implementation.
3) A Slurm bash script ("goslurm.sh") has been provided to test run a specified implementation with N=10000 on the Getafix cluster. The implementation used can be changed by assigning one of {a2_serial, a2_openmp, a2_avx, a2_cuda} to the "file" variable in the bash script. IMPORTANT - ensure to change/include relevant "#SLURM" parameters. Requesting threads for OpenMP ("#SBATCH --cpus-per-task=16"), valid CPU architecture for AVX ("#SBATCH --constraint=R740|FC430|R640") or GPU for CUDA ("#SBATCH --partition=gpu" and "#SBATCH --gres=gpu:1").
4) The "results.txt" file contains the standard output one should expect to receive when performing step 3) above. It already contains output from two test runs of the Serial and CUDA implementations respectively.
5) The "Results" folder contains four sub-folders storing the Serial, OpenMP, AVX and CUDA implementations' results. Within each of these sub-folders, a Slurm bash script ("goslurm_XXX.sh") is provided to test the implementations thoroughly on the Getafix cluster and store important metrics in the output into a "XXX_results.txt" file.
6) The "diagrams.ipynb" file is a Jupyter Notebook file that is used to preprocess data from the "Results" folder and calculate averages for the figures appearing in the submitted report. The required Python libraries are matplotlib, numpy and jupyter which can be easily installed via the pip package manager for Python.
